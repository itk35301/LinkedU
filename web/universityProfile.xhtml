<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript" ></script>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Profile</title>
            </f:facet>
        </h:head>

        <h:body>

            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="100" resizable="true" closable="true" collapsible="true">
                    <h:form>

                        Search:<p:inputText  size="70" placeholder="Search Students or Universities" id="search" />
                        <p:commandButton id="withIcon" icon="ui-icon-search" />

                    </h:form>
                </p:layoutUnit>



                <p:layoutUnit position="west"  resizable="true" size="200" header="Hide" collapsible="true">

                    <h:form>

                        <p:commandButton value="Edit Profile" />          
                        <p:commandButton value="Upload Media" id="uploadBtn"  />
                        <p:overlayPanel  id="imagePanel" dismissable="true" for="uploadBtn" hideEffect="fade" showCloseIcon="true" >
                            <p:fileUpload value="#{fileUploadView.file}" mode="simple"/>
                            <p:commandButton value="Submit" ajax="false" actionListener="#{fileUploadView.upload}"/>
                        </p:overlayPanel>
                        <p:commandButton value="Log Out" action="#{dialogView.logOut()}">
                            <p:confirm header="Confirmation" message="Are you sure you want to log out?" icon="ui-icon-alert" />
                        </p:commandButton>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" action="index?faces-redirect=true"/>
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                        </p:confirmDialog>



                    </h:form>

                </p:layoutUnit>


                <p:layoutUnit   resizable="true" position="center">

                    <h:form>

                        <p:growl id="msgs" showDetail="true" />

                        <p:panel id="about" header="About Me" footer="About" style="margin-bottom:20px">
                            <h:outputText  style="font-size: 200%" value="#{UniversityProfileController.UModel.name}"/>
                            <h:panelGrid  columns="2" cellpadding="10">
                                <p:graphicImage  width="150" height="171" name="images/#{UniversityProfileController.UModel.profilePic}" />
                                <h:outputText value="#{UniversityProfileController.UModel.about}" />
                                <p:commandButton id="imageBtn" value="View Gallery" type="button" />
                                <p:overlayPanel id="imagePanel" for="imageBtn" hideEffect="fade" showCloseIcon="true" >
                                    <p:galleria value="#{imageView.images}" var="image" panelWidth="400" panelHeight="400" showCaption="true">
                                        <p:graphicImage name="images/#{image}" alt="#{image}" title="#{image}"/>
                                    </p:galleria>
                                </p:overlayPanel>
                            </h:panelGrid>
                            Average Tuition: <h:outputText value="#{UniversityProfileController.UModel.avgTuition}"/>


                        </p:panel>
                        <p:panel id="contact" header="Contact" footer="Contact Information" style="margin-bottom:20px">


                            Phone: <h:outputText value="#{StudentProfileController.stuModel.phone}"/><br/>
                            Email: <h:outputText value="#{StudentProfileController.stuModel.email}"/><br/>

                        </p:panel>

                    </h:form>

                    <h:form>  
                        <p:panel id="location" header="Location" footer="University Location" style="margin-bottom:20px">
                            Location: <h:outputText value="#{UniversityProfileController.UModel.location}"/><br/>  
                            <p:gmap  center="41.381542, 2.122893" zoom="15" type="HYBRID" style="width:600px;height:400px" />                         
                        </p:panel>
                    </h:form>
                    <p:panel id="appointment" header="Schedule an Appointment" footer="Appointment" style="margin-bottom:20px">
                        <h:form>
                            <h:dataTable id="scheduleTable" value="#{scheduleController.timeSlots}" var="aRow"
                                         border="1" cellpadding="2" cellspacing="0">
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Date"/>
                                    </f:facet>
                                    <h:outputText value="#{aRow.date}"/>
                                </h:column>
                                
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="TimeSlot"/>
                                    </f:facet>
                                    <h:outputText value="#{aRow.timeslot}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="GroupName"/>
                                    </f:facet>
                                    <h:outputText value="#{aRow.groupname}"/>
                                </h:column>
                            </h:dataTable>

                            Enter Name:<h:inputText value="#{scheduleController.theModel.groupname}" /><br/>
                            <h:selectOneMenu value="#{scheduleController.theModel.timeslot}">
                                <f:selectItems  value="#{scheduleController.timeSlots}" var="time" itemValue="#{time.timeslot}" itemLabel="#{time.timeslot}"/>
                            </h:selectOneMenu><br/>
                            <h:commandButton value="Schedule"
                                             action="#{scheduleController.setSchedule()}" />
                        </h:form>
                    </p:panel>
                </p:layoutUnit>


            </p:layout>

        </h:body>

    </f:view>
</html>
